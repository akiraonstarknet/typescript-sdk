{"version":3,"file":"add.mjs","sources":["../../src/cli/commands/add.ts"],"sourcesContent":["import { checkForUnknownArgs } from \"apibara/common\";\nimport { addIndexer } from \"apibara/create\";\nimport { defineCommand } from \"citty\";\n\nexport default defineCommand({\n  meta: {\n    name: \"add\",\n    description:\n      \"apibara add helps you add a new indexer to your project with sensible defaults.\",\n  },\n  args: {\n    indexerId: {\n      type: \"positional\",\n      description: \"Indexer ID - must be in kebab-case\",\n      required: false,\n    },\n    chain: {\n      type: \"string\",\n      description: \"Blockchain - ethereum, beaconchain, starknet\",\n    },\n    network: {\n      type: \"string\",\n      description: \"Network - mainnet, sepolia, other\",\n    },\n    storage: {\n      type: \"string\",\n      description: \"Storage - postgres, none\",\n    },\n    dnaUrl: {\n      type: \"string\",\n      description: \"DNA URL - https://custom-dna-url.apibara.org\",\n    },\n    dir: {\n      type: \"string\",\n      description:\n        \"Root directory - apibara project root where apibara.config is located | default: current working directory\",\n    },\n  },\n  async run({ args, cmd }) {\n    await checkForUnknownArgs(args, cmd);\n\n    const { indexerId, chain, network, storage, dnaUrl, dir } = args;\n\n    await addIndexer({\n      argIndexerId: indexerId,\n      argChain: chain,\n      argNetwork: network,\n      argStorage: storage,\n      argDnaUrl: dnaUrl,\n      argRootDir: dir,\n    });\n  },\n});\n"],"names":[],"mappings":";;;;AAIA,YAAe,aAAc,CAAA;AAAA,EAC3B,IAAM,EAAA;AAAA,IACJ,IAAM,EAAA,KAAA;AAAA,IACN,WACE,EAAA,iFAAA;AAAA,GACJ;AAAA,EACA,IAAM,EAAA;AAAA,IACJ,SAAW,EAAA;AAAA,MACT,IAAM,EAAA,YAAA;AAAA,MACN,WAAa,EAAA,oCAAA;AAAA,MACb,QAAU,EAAA,KAAA;AAAA,KACZ;AAAA,IACA,KAAO,EAAA;AAAA,MACL,IAAM,EAAA,QAAA;AAAA,MACN,WAAa,EAAA,8CAAA;AAAA,KACf;AAAA,IACA,OAAS,EAAA;AAAA,MACP,IAAM,EAAA,QAAA;AAAA,MACN,WAAa,EAAA,mCAAA;AAAA,KACf;AAAA,IACA,OAAS,EAAA;AAAA,MACP,IAAM,EAAA,QAAA;AAAA,MACN,WAAa,EAAA,0BAAA;AAAA,KACf;AAAA,IACA,MAAQ,EAAA;AAAA,MACN,IAAM,EAAA,QAAA;AAAA,MACN,WAAa,EAAA,8CAAA;AAAA,KACf;AAAA,IACA,GAAK,EAAA;AAAA,MACH,IAAM,EAAA,QAAA;AAAA,MACN,WACE,EAAA,4GAAA;AAAA,KACJ;AAAA,GACF;AAAA,EACA,MAAM,GAAA,CAAI,EAAE,IAAA,EAAM,KAAO,EAAA;AACvB,IAAM,MAAA,mBAAA,CAAoB,MAAM,GAAG,CAAA,CAAA;AAEnC,IAAA,MAAM,EAAE,SAAW,EAAA,KAAA,EAAO,SAAS,OAAS,EAAA,MAAA,EAAQ,KAAQ,GAAA,IAAA,CAAA;AAE5D,IAAA,MAAM,UAAW,CAAA;AAAA,MACf,YAAc,EAAA,SAAA;AAAA,MACd,QAAU,EAAA,KAAA;AAAA,MACV,UAAY,EAAA,OAAA;AAAA,MACZ,UAAY,EAAA,OAAA;AAAA,MACZ,SAAW,EAAA,MAAA;AAAA,MACX,UAAY,EAAA,GAAA;AAAA,KACb,CAAA,CAAA;AAAA,GACH;AACF,CAAC,CAAA;;;;"}